\doxysection{Sg\+Smart\+Card.\+h}
\hypertarget{_sg_smart_card_8h_source}{}\label{_sg_smart_card_8h_source}\index{SgSCLib/include/SgSmartCard.h@{SgSCLib/include/SgSmartCard.h}}
\mbox{\hyperlink{_sg_smart_card_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ }
\DoxyCodeLine{00005\ \textcolor{preprocessor}{\#ifndef\ SG\_SMART\_CARD\_H}}
\DoxyCodeLine{00006\ \textcolor{preprocessor}{\#define\ SG\_SMART\_CARD\_H}}
\DoxyCodeLine{00007\ }
\DoxyCodeLine{00008\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{_sg_command_8h}{SgCommand.h}}"{}}}
\DoxyCodeLine{00009\ \textcolor{preprocessor}{\#include\ <memory>}}
\DoxyCodeLine{00010\ \textcolor{preprocessor}{\#include\ <map>}}
\DoxyCodeLine{00011\ \textcolor{preprocessor}{\#include\ <list>}}
\DoxyCodeLine{00012\ }
\DoxyCodeLine{00013\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_sg_smart_card}{SgSmartCard}}\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{class_sg_command}{SgCommand}}}
\DoxyCodeLine{00014\ \{}
\DoxyCodeLine{00015\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00016\ \ \ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{class_sg_smart_card}{SgSmartCard}}\ *ptr;}
\DoxyCodeLine{00017\ \ \ \ \ std::map<int,\ std::string>\ readers;}
\DoxyCodeLine{00018\ \ \ \ \ std::string\ activeReader;}
\DoxyCodeLine{00019\ \ \ \ \ std::shared\_ptr<Session>\ activeSession;}
\DoxyCodeLine{00020\ \ \ \ \ std::list<std::shared\_ptr<Session>>\ sessions;}
\DoxyCodeLine{00021\ \ \ \ \ \mbox{\hyperlink{class_sg_smart_card}{SgSmartCard}}();}
\DoxyCodeLine{00028\ \ \ \ \ \textcolor{keywordtype}{bool}\ IsRegisterPresent(\textcolor{keyword}{const}\ BYTE\ \&rId);}
\DoxyCodeLine{00035\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{int}\ GetKeyFilename(\textcolor{keyword}{const}\ std::vector<BYTE>\ \&rPublicKey);}
\DoxyCodeLine{00044\ \ \ \ \ std::shared\_ptr<Container>\ GetContainerInfo(\textcolor{keyword}{const}\ BYTE\&\ numberContainer,\ std::vector<std::shared\_ptr<Certificate>>\ certificates);}
\DoxyCodeLine{00045\ }
\DoxyCodeLine{00046\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00047\ \ \ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{class_sg_smart_card}{SgSmartCard}}\ *GetPrt();}
\DoxyCodeLine{00048\ \ \ \ \ \mbox{\hyperlink{class_sg_smart_card}{\string~SgSmartCard}}();}
\DoxyCodeLine{00054\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_sg_smart_card_a4b0e13955298be6c8703604301ce0026}{Init}}();}
\DoxyCodeLine{00058\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_sg_smart_card_a6346664494af9c28e4303f357738a552}{InitContainers}}();}
\DoxyCodeLine{00064\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_sg_smart_card_ab20eda821d21bfc41d061665a8325eb3}{Finalized}}();}
\DoxyCodeLine{00070\ \ \ \ \ std::map<int,\ std::string>\ \mbox{\hyperlink{class_sg_smart_card_a1fc157155ba157d48e7bd44787a57928}{GetListReaders}}();}
\DoxyCodeLine{00078\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_sg_smart_card_a4d448d460e7f65cbe7b1578c523ccffb}{SelectReader}}(\textcolor{keyword}{const}\ std::string\ \&rName,\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{int}\ \&rId);}
\DoxyCodeLine{00087\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_sg_smart_card_a5b20f6774d1375919560dcf3d83cab5e}{SelectReader}}(\textcolor{keyword}{const}\ std::string\ \&rName);}
\DoxyCodeLine{00095\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_sg_smart_card_ad124858b9b96cb87288cc04067bbf2ba}{AuthenticateUserPin}}(\textcolor{keyword}{const}\ std::string\ \&rPin,\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}*\ errCode);}
\DoxyCodeLine{00102\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_sg_smart_card_a11db98afe56726257772c381e084bc8a}{AuthenticateSystemUserPin}}(\textcolor{keyword}{const}\ std::string\ \&rPin);}
\DoxyCodeLine{00110\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_sg_smart_card_a829ba2158f2a77cbfc7f350eca0c81ec}{ChangePin}}(\textcolor{keyword}{const}\ std::string\ \&rOldPin,\ \textcolor{keyword}{const}\ std::string\ \&rNewPin);}
\DoxyCodeLine{00118\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_sg_smart_card_a5a52a73ff98628715a7ee687d638ab96}{ChangePinWithSystemUser}}(\textcolor{keyword}{const}\ std::string\ \&rSystemUserPin,\ \textcolor{keyword}{const}\ std::string\ \&rNewPin);}
\DoxyCodeLine{00125\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_sg_smart_card_a571f3b3b776c6d9639893b14f2f465f4}{ResetPinTrials}}(\textcolor{keyword}{const}\ std::string\ \&rSystemUserPin);}
\DoxyCodeLine{00131\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_sg_smart_card_a58aa4e10cf5ea00893fa4ce363d7ef15}{CheckATR}}();}
\DoxyCodeLine{00143\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_sg_smart_card_ac2319fc1714519c19cbbc1603e1ff9b4}{SignHash}}(\textcolor{keyword}{const}\ std::string\&\ rHash,\ std::string\&\ rSignedHash,\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{int}\&\ rPriv,\ HashAlgorithm\ hashAlgorithm,\ KeySize\ privateKey);}
\DoxyCodeLine{00155\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_sg_smart_card_ab4face7e14408603f039356b9f34b08b}{SignData}}(\textcolor{keyword}{const}\ std::string\&\ rData,\ std::string\&\ rHash,\ std::string\&\ rSignedHash,\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{int}\&\ rPriv,\ HashAlgorithm\ hashAlgorithm,\ KeySize\ privateKeySize);}
\DoxyCodeLine{00172\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_sg_smart_card_accd3d874866e3143007b2db9ddbc4f93}{GetCertificate}}(std::vector<BYTE>\&\ rCertificate,\ BYTE\ containerId);}
\DoxyCodeLine{00179\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_sg_smart_card_a438e3deea75c9e0a351dfdc8cafb4abf}{SetSession}}(\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{int}\ \&session);}
\DoxyCodeLine{00186\ \ \ \ \ \textcolor{keyword}{const}\ std::shared\_ptr<Session>\ \mbox{\hyperlink{class_sg_smart_card_a14a00e278d805b57956009e8629a89e0}{GetSession}}(\textcolor{keywordtype}{int}\ sessionId);}
\DoxyCodeLine{00192\ \ \ \ \ \textcolor{keyword}{const}\ std::shared\_ptr<Session>\ \mbox{\hyperlink{class_sg_smart_card_a159563cfb5a7d7f25bb1b870ef41993f}{GetActiveSession}}();}
\DoxyCodeLine{00198\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_sg_smart_card_a440665a8ec9f41da3d1114203d7828e6}{UnselectActiveSession}}();}
\DoxyCodeLine{00204\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{class_sg_smart_card_a6016f5e88bd6e16c07486da26dd7d030}{GetNewSession}}();}
\DoxyCodeLine{00210\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_sg_smart_card_a35f940b7bc7a0474ae00102bbbd2a1b7}{EndSession}}(\textcolor{keywordtype}{int}\ sessionId);}
\DoxyCodeLine{00218\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_sg_smart_card_acebc0fbdac8254c4ac2db8e0d20779e1}{GetListKeys}}(std::vector<unsigned\ long\ int>\ \&ids);}
\DoxyCodeLine{00226\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_sg_smart_card_ae6466a6b8d4da8bb372d2ddd1890f1a2}{GetListCertificates}}(std::vector<unsigned\ long\ int>\ \&ids);}
\DoxyCodeLine{00233\ \ \ \ \ \textcolor{keyword}{const}\ std::shared\_ptr<Certificate>\ \mbox{\hyperlink{class_sg_smart_card_a01aebe35d47fb22b1444312cbcb15c5b}{GetCertificate}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{int}\&\ \textcolor{keywordtype}{id});}
\DoxyCodeLine{00239\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{class_sg_smart_card_a4e4a5790166779536f72d19be73f65b1}{GetCountKeys}}();}
\DoxyCodeLine{00245\ \ \ \ \ KeySize\ \mbox{\hyperlink{class_sg_smart_card_afe69d8637dcacc639e0d63e4e45dde31}{GetKeySize}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{int}\&\ riID);}
\DoxyCodeLine{00254\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_sg_smart_card_a9a6260b6a37e134dd0852e8e2c36f3b0}{InsertCertificate}}(\textcolor{keyword}{const}\ std::vector<BYTE>\ \&rCertificate,\ \textcolor{keyword}{const}\ std::string\ rFolderName,\ \textcolor{keyword}{const}\ std::vector<BYTE>\ \&rPublicKey);}
\DoxyCodeLine{00260\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_sg_smart_card_a8f7b46ae40d6960dcea31a150b892964}{CheckCurrentEnviroment}}();}
\DoxyCodeLine{00266\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_sg_smart_card_a8175c749655fa6a128aed7744ab474b9}{IsCardPresent}}();}
\DoxyCodeLine{00272\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_sg_smart_card_a68096702933ca2ab62a4b27547fe4fc9}{DeleteContainers}}(BYTE\ keyReference);}
\DoxyCodeLine{00280\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_sg_smart_card_a3344bc440b152d1f25740c2c6ea8e1c0}{GenRSAKeys}}(KeySize\ keySize,\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ \&keyIdGenerated);}
\DoxyCodeLine{00288\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_sg_smart_card_a51db04537e7ec356818ad13d8421cd10}{ExtractPublicKey}}(BYTE\ keyReference,\ std::vector<BYTE>\ \&rPublicKeyDerAndMod);}
\DoxyCodeLine{00294\ \ \ \ \ std::string\ \mbox{\hyperlink{class_sg_smart_card_ab80d790a98fd9d8baa2a155512c2f7a9}{GetLastKeyUUID}}();}
\DoxyCodeLine{00301\ \ \ \ \ std::string\ \mbox{\hyperlink{class_sg_smart_card_ad1366a16e5415114c4e5436b71a7f6f6}{GetKeyLabelUUID}}(\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ \textcolor{keywordtype}{id});}
\DoxyCodeLine{00308\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{class_sg_smart_card_afa2b775629c8e0ca12721885505d0dce}{GetPublicKeyId}}(\textcolor{keyword}{const}\ std::vector<BYTE>\&\ uuid);}
\DoxyCodeLine{00316\ \ \ \ \ \textcolor{keyword}{const}\ std::vector<BYTE>\ \mbox{\hyperlink{class_sg_smart_card_af9ab308456e51051b58d595ff1ce1df8}{GetKeyUUID}}(\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ fileName);}
\DoxyCodeLine{00322\ \ \ \ \ std::string\ \mbox{\hyperlink{class_sg_smart_card_a617c67964a79f03ec4d8c79b7eea7f25}{GetSerialNumber}}();}
\DoxyCodeLine{00328\ \ \ \ \ std::string\ \mbox{\hyperlink{class_sg_smart_card_a93aa871e2846efb66d818e584bd73d24}{GetReaderName}}();}
\DoxyCodeLine{00334\ \ \ \ \ std::string\ \mbox{\hyperlink{class_sg_smart_card_a65f9700a644c91c6267563d4904b77c8}{GetVendorName}}();}
\DoxyCodeLine{00335\ \};}
\DoxyCodeLine{00336\ }
\DoxyCodeLine{00337\ \textcolor{preprocessor}{\#endif}}

\end{DoxyCode}
